{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Debug API Gateway",
      "type": "go",
      "request": "launch",
      "mode": "auto",
      "program": "${workspaceFolder}/backend/api-gateway/main.go",
      "env": {
        "JWT_SECRET": "debug_secret",
        "API_GATEWAY_PORT": "8080",
        "AUTH_SERVICE_ADDR": "localhost:50051",
        "USER_SERVICE_ADDR": "localhost:50052"
      },
      "cwd": "${workspaceFolder}/backend/api-gateway"
    },
    {
      "name": "Debug Auth Service",
      "type": "go",
      "request": "launch",
      "mode": "auto",
      "program": "${workspaceFolder}/backend/services/auth/main.go",
      "env": {
        "JWT_SECRET": "debug_secret",
        "AUTH_SERVICE_PORT": "50051", 
        "DB_HOST": "localhost",
        "DB_PORT": "5432",
        "DB_USER": "postgres",
        "DB_PASSWORD": "postgres",
        "DB_NAME": "auth_db"
      },
      "cwd": "${workspaceFolder}/backend/services/auth"
    },
    {
      "name": "Debug User Service",
      "type": "go",
      "request": "launch",
      "mode": "auto",
      "program": "${workspaceFolder}/backend/services/user/main.go",
      "env": {
        "JWT_SECRET": "debug_secret",
        "USER_SERVICE_PORT": "50052",
        "DB_HOST": "localhost",
        "DB_PORT": "5432", 
        "DB_USER": "postgres",
        "DB_PASSWORD": "postgres",
        "DB_NAME": "user_db"
      },
      "cwd": "${workspaceFolder}/backend/services/user"
    },
    {
      "name": "Debug Event Bus",
      "type": "go",
      "request": "launch",
      "mode": "auto",
      "program": "${workspaceFolder}/backend/event-bus/main.go",
      "env": {
        "RABBITMQ_URL": "amqp://guest:guest@localhost:5672/"
      },
      "cwd": "${workspaceFolder}/backend/event-bus"
    },
    {
      "name": "Debug Tests",
      "type": "go",
      "request": "launch",
      "mode": "test",
      "program": "${fileDirname}",
      "cwd": "${fileDirname}"
    }
  ]
}